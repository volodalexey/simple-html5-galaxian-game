(()=>{"use strict";var t,e={7279:(t,e,i)=>{i.r(e)},2186:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Collision=void 0;const s=i(5473);e.Collision=class{static checkCollision(t,e){(0,s.logRectCollision)(`r1:: l=${t.left} r=${t.right} t=${t.top} b=${t.bottom} <> r2:: l=${e.left} r=${e.right} t=${e.top} b=${e.bottom}`);const i=t.left<e.left?e.left:t.left,o=t.right>e.right?e.right:t.right;if((0,s.logRectCollision)(`left-m-Right=${o} right-m-Left=${i}`),o<=i)return 0;const r=t.top<e.top?e.top:t.top,n=t.bottom>e.bottom?e.bottom:t.bottom;return(0,s.logRectCollision)(`bottom-m-Top=${r} top-m-Bottom=${n}`),n>r?(o-i)*(n-r)/((e.right-e.left)*(e.bottom-e.top)):0}}},1512:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Grid=void 0;const s=i(780);class o{constructor({invaderTexture:t,initX:e=0,initY:i=0,minCols:r=5,maxCols:n=10,minRows:a=2,maxRows:h=5}){this.bounds={top:0,right:0,bottom:0,left:0},this.velocity={vx:1,vy:0},this.invaders=[];const l=Math.floor(Math.random()*n+r),d=Math.floor(Math.random()*h+a);for(let r=0;r<l;r++)for(let n=0;n<d;n++){const a=new s.Invader({grid:this,texture:t});a.position.set(e+r*o.cell,i+n*o.cell),this.invaders.push(a)}this.updateBounds()}update({levelLeft:t,levelRight:e}){const{bounds:i}=this;i.left+=this.velocity.vx,i.right+=this.velocity.vx,i.top+=this.velocity.vy,i.bottom+=this.velocity.vy;for(const t of this.invaders)t.update(this.velocity);if(this.velocity.vy=0,i.right+this.velocity.vx>=e||i.left+this.velocity.vx<=t){const i=1+(e-t)/o.cell*.01;this.velocity.vx=-this.velocity.vx*i,Math.abs(this.velocity.vx)>o.maxVX&&(this.velocity.vx=Math.sign(this.velocity.vx)*o.maxVX),this.velocity.vy=o.cell}}updateBounds(){const{bounds:t}=this;t.top=9999,t.right=0,t.bottom=0,t.left=9999,this.invaders.forEach((e=>{const i=e.getBounds();i.top<t.top&&(t.top=i.top),i.right>t.right&&(t.right=i.right),i.bottom>t.bottom&&(t.bottom=i.bottom),i.left<t.left&&(t.left=i.left)}))}getBottomInvaders(){return this.updateBounds(),this.invaders.filter((t=>t.y+t.height===this.bounds.bottom))}}o.cell=40,o.maxVX=10,o.maxVY=10,e.Grid=o},780:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Invader=void 0;const s=i(8687);class o extends s.Sprite{constructor({texture:t,grid:e}){super(t),this.bulletSpeed=5,this.parentGrid=e}update({vx:t,vy:e}){this.x+=t,this.y+=e}isOutOfViewport({left:t,top:e,right:i,bottom:s}){const o=this.x,r=this.y,n=this.x+this.width,a=this.y+this.height;return n<t||o>i||a<e||r>s}removeGromGrid(){const t=this.parentGrid.invaders.indexOf(this);t>-1&&this.parentGrid.invaders.splice(t,1),this.parentGrid.updateBounds()}}e.Invader=o},1557:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.LoaderScene=e.manifest=void 0;const s=i(8687),o=i(5473);e.manifest={bundles:[{name:"bundle-1",assets:{spritesheet:"assets/spritesheets/spritesheet.json"}}]};class r extends s.Container{constructor(t){super(),this.barOptions={width:350,height:40,fillColor:34816,borderRadius:5,borderThick:5,borderColor:0},this.downloadProgress=t=>{this.loaderBarFill.width=(this.barOptions.width-2*this.barOptions.borderThick)*t},this.setup(),this.draw()}setup(){const t=new s.Graphics;this.addChild(t),this.loaderBarBorder=t;const e=new s.Graphics;this.addChild(e),this.loaderBarFill=e}draw(){const{loaderBarFill:t,loaderBarBorder:e,barOptions:i}=this;e.beginFill(i.borderColor),e.drawRoundedRect(0,0,i.width,i.height,i.borderRadius),e.endFill(),t.beginFill(i.fillColor),t.drawRoundedRect(i.borderThick,i.borderThick,i.width-2*i.borderThick,i.height-2*i.borderThick,i.borderRadius),t.endFill()}async initializeLoader(){await s.Assets.init({manifest:e.manifest}),await s.Assets.loadBundle(e.manifest.bundles.map((t=>t.name)),this.downloadProgress)}getAssets(){return{spritesheet:s.Assets.get("spritesheet")}}handleResize({viewWidth:t,viewHeight:e}){const i=t,s=e,r=this.width,n=this.height;if(i>=r&&s>=n){const t=i>r?(i-r)/2:0,e=s>n?(s-n)/2:0;(0,o.logLayout)(`Spacing aw=${i} tw=${r} ah=${s} th=${n}`),this.x=t,this.width=this.barOptions.width,this.y=e,this.height=this.barOptions.height}else{let t=1;n>=r?(t=s/n,t*r>i&&(t=i/r),(0,o.logLayout)(`By height (sc=${t})`)):(t=i/r,(0,o.logLayout)(`By width (sc=${t})`),t*n>s&&(t=s/n));const e=Math.floor(r*t),a=Math.floor(n*t),h=i>e?(i-e)/2:0,l=s>a?(s-a)/2:0;(0,o.logLayout)(`aw=${i} (ow=${e}) ah=${s} (oh=${a})`),this.x=h,this.width=e,this.y=l,this.height=a}(0,o.logLayout)(`x=${this.x} y=${this.y} w=${this.width} h=${this.height}`)}handleMounted(){}handleUpdate(){}}e.LoaderScene=r},9060:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Particle=void 0;const s=i(8687);class o extends s.Sprite{constructor(t){super(),this.isProjectile=!0,this.app=t.app,this.radius=t.radius,this.vx=t.vx,this.vy=t.vy,this.setup(t)}setup(t){let e=o.textureCache;if(null==e){const i=new s.Graphics;i.beginFill(16777215),i.drawCircle(0,0,this.radius),i.endFill(),i.cacheAsBitmap=!0,e=t.app.renderer.generateTexture(i),o.textureCache=e}this.texture=e,this.scale.set(2*t.radius/e.width,2*t.radius/e.height),this.tint=t.fillColor}update(){this.x=this.x+this.vx,this.y=this.y+this.vy,this.alpha=this.alpha-.01,this.alpha<0&&(this.alpha=0)}isOutOfViewport({left:t,top:e,right:i,bottom:s}){const o=this.x-this.radius,r=this.y-this.radius,n=this.x+this.radius,a=this.y+this.radius;return n<t||o>i||a<e||r>s}}e.Particle=o},4778:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Player=e.PlayerState=void 0;const s=i(8687),o=i(5473);var r;!function(t){t.idle="idle",t.skewLeft="skewLeft",t.skewRight="skewRight"}(r=e.PlayerState||(e.PlayerState={}));class n extends s.Sprite{constructor({shipTexture:t}){super(t),this.pointerXDown=null,this.pointerYDown=null,this.velocity={vx:0,vy:0},this.heatingMax=200,this.heating=0,this.isAlive=!0,this.scale.set(n.options.scale),this.anchor.set(.5,.5),this.switchState(r.idle)}shoot(){return!!this.isAlive&&this.heating<this.heatingMax&&(this.heating+=15,!0)}switchState(t){switch(t){case r.idle:this.rotation=0;break;case r.skewLeft:this.rotation=-n.options.angle;break;case r.skewRight:this.rotation=n.options.angle}this.state=t}isPointerDown(){return null!==this.pointerXDown&&null!==this.pointerYDown}applyTopDirection(t){this.isAlive&&(this.pointerYDown=t?-1:null)}applyLeftDirection(t){this.isAlive&&(this.pointerXDown=t?-1:-1===this.pointerXDown?null:this.pointerXDown)}applyRightDirection(t){this.isAlive&&(this.pointerXDown=t?1:1===this.pointerXDown?null:this.pointerXDown)}handleMove(t,e,i){this.isAlive&&(!0===t?(this.pointerXDown=e-this.x,this.pointerYDown=i-this.y):!1===t?(this.pointerXDown=null,this.pointerYDown=null):this.isPointerDown()&&((0,o.logPlayerMove)(`x=${e} (cx=${this.x}) y=${e}`),this.pointerXDown=e-this.x,this.pointerYDown=i-this.y))}updateVelocity(){if(!this.isAlive)return;this.heating>0&&this.heating--;const{options:{moveSpeed:t}}=n,{pointerXDown:e,pointerYDown:i,velocity:s}=this;s.vy="number"==typeof i&&i<0?1:0,"number"==typeof e?e<0?s.vx=-t:e>0&&(s.vx=t):s.vx=0}updateState(){this.isAlive&&(this.velocity.vx>0?this.switchState(r.skewRight):this.velocity.vx<0?this.switchState(r.skewLeft):this.switchState(r.idle))}setKilled(){this.isAlive=!1,this.pointerXDown=null,this.pointerYDown=null,this.velocity.vx=0,this.velocity.vy=0,this.heating=0}}n.options={scale:.15,angle:.3,moveSpeed:8,bulletSpeed:-10},e.Player=n},7067:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Projectile=void 0;const s=i(8687);class o extends s.Sprite{constructor(t){super(),this.id=t.id,this.app=t.app,this.radius=t.radius,this.vx=t.vx,this.vy=t.vy,this.setup(t),this.tint=t.fillColor}setup(t){let e=o.textureCache;if(null==e){const i=new s.Graphics;i.beginFill(16777215),i.drawCircle(0,0,this.radius),i.endFill(),i.cacheAsBitmap=!0,e=t.app.renderer.generateTexture(i),o.textureCache=e}this.texture=e}update(){this.x=this.x+this.vx,this.y=this.y+this.vy}isOutOfViewport({left:t,top:e,right:i,bottom:s}){const o=this.x-this.radius,r=this.y-this.radius,n=this.x+this.radius,a=this.y+this.radius;return n<t||o>i||a<e||r>s}}e.Projectile=o},3110:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SceneManager=void 0;const s=i(8687),o=i(5473);class r extends s.Container{handleUpdate(){}handleResize(){}}class n{constructor(){}static get width(){return window.innerWidth}static get height(){return window.innerHeight}static async initialize(){var t;const e=new s.Application({autoDensity:!0,resolution:null!==(t=window.devicePixelRatio)&&void 0!==t?t:1,width:n.width,height:n.height,resizeTo:window});document.body.appendChild(e.view),o.logApp.enabled&&((0,o.logApp)("window.app initialized!"),window.app=e),n.app=e,n.setupEventLesteners()}static setupEventLesteners(){window.addEventListener("resize",n.resizeDeBounce),n.app.ticker.add(n.updateHandler)}static async changeScene(t){n.app.stage.removeChild(n.currentScene),n.currentScene.destroy(),n.currentScene=t,n.app.stage.addChild(n.currentScene),n.resizeHandler()}static resizeDeBounce(){n.cancelScheduledResizeHandler(),n.scheduleResizeHandler()}static cancelScheduledResizeHandler(){clearTimeout(n.resizeTimeoutId)}static scheduleResizeHandler(){n.resizeTimeoutId=setTimeout((()=>{n.cancelScheduledResizeHandler(),n.resizeHandler()}),n.resizeTimeout)}static resizeHandler(){n.currentScene.handleResize({viewWidth:n.width,viewHeight:n.height})}static updateHandler(){n.currentScene.handleUpdate(n.app.ticker.deltaMS)}}n.currentScene=new r,n.resizeTimeout=300,e.SceneManager=n},6550:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ScoreBar=void 0;const s=i(8687);class o extends s.Container{constructor(){super(),this.scoreOptions={padding:20,textColor:16777215,textSize:40},this._score=100,this.setup()}get score(){return this._score}setup(){const{scoreOptions:t}=this,e=new s.Text(`Score: ${this._score}`,{fontSize:t.textSize,fill:t.textColor});e.position.set(t.padding,t.padding),this.addChild(e),this.scoreText=e}addScore(t){this._score+=Math.round(t),this.scoreText.text=`Score: ${this._score}`}subScore(){this._score-=10,this.scoreText.text=`Score: ${this._score}`}clearScore(){this._score=0,this.scoreText.text=`Score: ${this._score}`}}e.ScoreBar=o},2250:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ShootingScene=void 0;const s=i(8687),o=i(6550),r=i(4778),n=i(5473),a=i(7067),h=i(1512),l=i(9060),d=i(6879),c=i(2186),p=i(3617);class u extends s.Container{constructor(t){super(),this.gameEnded=!1,this.elapsedSpawnFrames=0,this.elapsedShootFrames=0,this.spawnFrame=Math.floor(500*Math.random()+500),this.invaderShootFrame=Math.floor(150*Math.random()+50),this.ids=0,this.backgroundSettings={color:0},this.grids=[],this.handlePlayerStartMove=t=>{this.handlePlayerMove(!0,t)},this.handlePlayerKeepMove=t=>{this.handlePlayerMove(void 0,t)},this.handlePlayerStopMove=t=>{this.handlePlayerMove(!1,t)},this.handleKeyDown=t=>{switch((0,n.logKeydown)(`${t.code} ${t.key}`),t.code){case"KeyW":case"ArrowUp":case"Space":case"ShiftLeft":this.player.applyTopDirection(!0);break;case"KeyA":case"ArrowLeft":this.player.applyLeftDirection(!0);break;case"KeyD":case"ArrowRight":this.player.applyRightDirection(!0)}},this.handleKeyUp=t=>{switch((0,n.logKeyup)(`${t.code} ${t.key}`),t.code){case"KeyW":case"ArrowUp":case"Space":case"ShiftLeft":this.player.applyTopDirection(!1);break;case"KeyA":case"ArrowLeft":this.player.applyLeftDirection(!1);break;case"KeyD":case"ArrowRight":this.player.applyRightDirection(!1)}},this.startGame=()=>{for(this.startModal.visible=!1,this.scoreBar.clearScore();null!=this.projectilesContainer.children[0];)this.projectilesContainer.children[0].removeFromParent();for(;null!=this.invadersContainer.children[0];){const t=this.invadersContainer.children[0];t.removeFromParent(),t.removeGromGrid()}for(;null!=this.particlesContainer.children[0];)this.particlesContainer.children[0].removeFromParent();this.grids=[],this.gameEnded=!1,this.player.isAlive=!0,setTimeout((()=>{this.spawnInvadersGrid()})),this.elapsedShootFrames=0,this.elapsedSpawnFrames=0},this.app=t.app,this.invaderTexture=t.invaderTexture,this.setup(t),this.draw(t),this.addEventLesteners(),setTimeout((()=>{this.spawnInvadersGrid()}))}setup({viewWidth:t,viewHeight:e,shipTexture:i}){this.background=new s.Graphics,this.addChild(this.background),this.stars=new p.Stars({app:this.app,levelLeft:this.x,levelRight:t,levelTop:this.y,levelBottom:e}),this.addChild(this.stars),this.invadersContainer=new s.ParticleContainer(2e3,{position:!0}),this.addChild(this.invadersContainer),this.projectilesContainer=new s.ParticleContainer(2e3,{position:!0,tint:!0}),this.addChild(this.projectilesContainer),this.particlesContainer=new s.ParticleContainer(2e3,{position:!0,tint:!0}),this.addChild(this.particlesContainer),this.scoreBar=new o.ScoreBar,this.addChild(this.scoreBar),this.player=new r.Player({shipTexture:i}),this.addChild(this.player),this.startModal=new d.StartModal({viewWidth:t,viewHeight:e}),this.startModal.visible=!1,this.addChild(this.startModal)}draw({viewWidth:t,viewHeight:e}){this.background.beginFill(this.backgroundSettings.color),this.background.drawRect(0,0,t,e),this.background.endFill()}handleResize(t){this.centerPlayer(t),this.resizeBackground(t),this.centerModal(t)}centerPlayer({viewWidth:t,viewHeight:e}){this.player.position.set(t/2,e-this.player.height)}centerModal({viewWidth:t,viewHeight:e}){this.startModal.position.set(t/2-this.startModal.boxOptions.width/2,e/2-this.startModal.boxOptions.height/2)}resizeBackground({viewWidth:t,viewHeight:e}){(0,n.logLayout)(`bgw=${this.background.width} bgh=${this.background.height} vw=${t} vh=${e}`),this.background.width=t,this.background.height=e}spawnParticles({count:t,posX:e,posY:i,fillColor:s}){for(let o=0;o<t;o++){const t=10*(Math.random()-.5),o=10*(Math.random()-.5),r=new l.Particle({app:this.app,radius:2,vx:t,vy:o,fillColor:s});r.position.set(e,i),this.particlesContainer.addChild(r)}}handleUpdate(){if(this.gameEnded)return;const t=this.background.x,e=this.background.width,i=this.background.y,s=this.background.y+this.background.height;this.stars.update({levelTop:i,levelBottom:s}),this.player.updateVelocity();const{velocity:o,position:r}=this.player;o.vy>0&&this.playerShoot();const l=this.player.getBounds();(0,n.logPlayerBounds)(`pl=${l.left} pr=${l.right} pw=${l.width} ph=${l.height}`),l.left+o.vx<this.background.x?(o.vx=0,r.x=this.background.x+l.width/2):l.right+o.vx>this.background.width?(o.vx=0,r.x=this.background.width-l.width/2):r.x+=o.vx,this.player.updateState();const{x:d,y:p,width:u,height:g}=this,v=d,w=p,y=d+u,f=p+g;for(const t of this.particlesContainer.children){const e=t;e.update(),e.alpha<=0?(e.removeFromParent(),(0,n.logParticle)(`Removed particle alpha (${this.particlesContainer.children.length})`)):e.isOutOfViewport({left:v,top:w,right:y,bottom:f})&&(e.removeFromParent(),(0,n.logParticle)(`Removed particle out of viewport (${this.particlesContainer.children.length})`))}for(const i of this.grids)i.update({levelLeft:t,levelRight:e});for(const t of this.invadersContainer.children){const e=t;e.isOutOfViewport({left:v,top:w,right:y,bottom:f})&&(e.removeFromParent(),e.removeGromGrid(),(0,n.logInvader)(`Removed invader out of viewport (${this.invadersContainer.children.length})`))}for(const t of this.projectilesContainer.children){const e=t;e.update(),e.isOutOfViewport({left:v,top:w,right:y,bottom:f})&&(e.removeFromParent(),(0,n.logProjectile)(`Removed projectile out of viewport (${this.projectilesContainer.children.length})`))}for(const t of this.invadersContainer.children){const e=t,i=e.getBounds();if(c.Collision.checkCollision(l,i)>0){e.removeFromParent(),e.removeGromGrid(),this.beginEndGame();break}for(const t of this.projectilesContainer.children){const s=t,o=s.getBounds();c.Collision.checkCollision(i,o)>.1?(s.removeFromParent(),(0,n.logProjectile)(`Removed projectile hit invader (${this.projectilesContainer.children.length})`),this.scoreBar.addScore(100),this.spawnParticles({count:h.Grid.cell,posX:e.x,posY:e.y,fillColor:12230878}),e.removeFromParent(),e.removeGromGrid(),(0,n.logInvader)(`Removed invader killed (${this.invadersContainer.children.length})`)):c.Collision.checkCollision(l,o)>.1&&(s.removeFromParent(),(0,n.logProjectile)(`Removed projectile hit player (${this.projectilesContainer.children.length})`),this.beginEndGame())}}const x=this.grids.length;if(this.grids=this.grids.filter((t=>t.invaders.length)),x!==this.grids.length&&(0,n.logGrid)(`Grids count changed ${this.grids.length}`),this.elapsedShootFrames===this.invaderShootFrame&&this.grids.length>0){let t;if(this.grids.forEach((e=>{(null==t||e.bounds.bottom>t.bounds.bottom)&&(t=e)})),null!=t){const e=t.getBottomInvaders(),i=e[Math.floor(Math.random()*e.length)],s=new a.Projectile({id:++this.ids,app:this.app,radius:3,fillColor:12558559,vx:0,vy:i.bulletSpeed});s.position.set(i.x,i.y+i.height),this.projectilesContainer.addChild(s)}this.invaderShootFrame=Math.floor(150*Math.random()+50),this.elapsedShootFrames=0}this.elapsedSpawnFrames===this.spawnFrame?(this.spawnInvadersGrid(),this.spawnFrame=Math.floor(500*Math.random()+500),this.elapsedSpawnFrames=0):0===this.grids.length&&this.spawnInvadersGrid(),this.elapsedShootFrames+=1,this.elapsedSpawnFrames+=1}addEventLesteners(){this.interactive=!0,this.on("pointerdown",this.handlePlayerStartMove),this.on("pointermove",this.handlePlayerKeepMove),this.on("pointerup",this.handlePlayerStopMove),window.addEventListener("keydown",this.handleKeyDown),window.addEventListener("keyup",this.handleKeyUp),this.startModal.on("click",this.startGame)}handlePlayerMove(t,e){const i=this.toLocal(e.global);(0,n.logPointerEvent)(`${e.type} px=${i.x} py=${i.y}`),this.player.handleMove(t,i.x,i.y)}playerShoot(){if(!this.gameEnded&&this.player.shoot()){this.scoreBar.subScore();const t=new a.Projectile({id:++this.ids,app:this.app,radius:4,fillColor:16777215,vx:0,vy:r.Player.options.bulletSpeed});t.position.set(this.player.x,this.player.y-this.player.height/2-t.height),this.projectilesContainer.addChild(t),(0,n.logProjectile)(`Added (${this.projectilesContainer.children.length})`)}}spawnInvadersGrid(){const t=new h.Grid({invaderTexture:this.invaderTexture,initX:this.background.x,initY:this.background.y+this.scoreBar.height+this.scoreBar.scoreOptions.padding});if(this.grids.every((e=>e.bounds.top>t.bounds.bottom))){this.grids.push(t),(0,n.logGrid)(`Spawned +1 grid ${this.grids.length}`);for(const e of t.invaders)this.invadersContainer.addChild(e)}else(0,n.logGrid)(`Skip spawn grid ${t.bounds.bottom}`)}endGame(){this.gameEnded=!0,this.startModal.scoreText.text=this.scoreBar.score,this.startModal.visible=!0}beginEndGame(){this.spawnParticles({count:this.player.width,posX:this.player.x,posY:this.player.y,fillColor:16777215}),this.player.setKilled(),setTimeout((()=>{this.endGame()}),2e3)}}e.ShootingScene=u},3617:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Stars=void 0;const s=i(8687);class o extends s.Sprite{constructor(t){super(),this.app=t.app,this.setup(t),this.tint=t.fillColor}setup(t){let e=o.textureCache;if(null==e){const i=new s.Graphics;i.beginFill(16777215),i.drawPolygon([55,10,57,15,63,15,58,19,60,25,55,22,50,25,51,19,47,15,53,15]),i.endFill(),i.alpha=.2,i.width=2,i.cacheAsBitmap=!0,e=t.app.renderer.generateTexture(i),o.textureCache=e}this.texture=e,this.scale.set(.5)}}class r extends s.ParticleContainer{constructor(t){super(r.count+1,{position:!0,tint:!0}),this.setup(t)}setup({app:t,levelLeft:e,levelRight:i,levelTop:s,levelBottom:n}){for(let a=0;a<r.count;a++){const a=new o({app:t,fillColor:r.colors[Math.floor(Math.random()*r.colors.length)]}),h=Math.floor(Math.random()*i-e),l=Math.floor(Math.random()*n-s);a.position.set(h,l),this.addChild(a)}}update({levelTop:t,levelBottom:e}){this.children.forEach((i=>{i.position.y+=r.velocity,i.position.y>e&&(i.position.y=t)}))}}r.velocity=1,r.count=100,r.colors=[11520511,13097215,16774387,16770511,16767410,16762766,16754257],e.Stars=r},6879:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StartModal=void 0;const s=i(8687);class o extends s.Container{constructor(t){super(),this.boxOptions={fill:16777215,width:300,height:200,borderRadius:5},this.scoreOptions={top:-50,textColor:0,textSize:40,fontWeight:"bold"},this.pointsOptions={top:-10,textColor:0,textSize:20},this.buttonOptions={top:120,left:50,width:200,height:50,fill:959977,borderRadius:10},this.buttonTextOptions={top:95,textColor:16777215,textSize:20},this.setup(t),this.draw(t),this.setupEventListeners()}setup(t){this.modalBox=new s.Graphics,this.addChild(this.modalBox);const{boxOptions:e,scoreOptions:i,pointsOptions:o,buttonTextOptions:r}=this;this.scoreText=new s.Text("0",{fontSize:i.textSize,fill:i.textColor,fontWeight:i.fontWeight}),this.scoreText.anchor.set(.5,.5),this.scoreText.position.set(e.width/2,e.height/2+i.top),this.addChild(this.scoreText),this.pointsText=new s.Text("Score",{fontSize:o.textSize,fill:o.textColor}),this.pointsText.anchor.set(.5,.5),this.pointsText.position.set(e.width/2,e.height/2+o.top),this.addChild(this.pointsText),this.button=new s.Graphics,this.button.interactive=!0,this.button.cursor="pointer",this.addChild(this.button),this.buttonText=new s.Text("Start Game",{fontSize:r.textSize,fill:r.textColor}),this.buttonText.anchor.set(.5,.5),this.buttonText.position.set(e.width/2,e.height/2/2+r.top),this.button.addChild(this.buttonText)}draw(t){const{boxOptions:e,buttonOptions:i}=this;this.modalBox.beginFill(e.fill),this.modalBox.drawRoundedRect(0,0,e.width,e.height,e.borderRadius),this.modalBox.endFill(),this.button.beginFill(i.fill),this.button.drawRoundedRect(i.left,i.top,i.width,i.height,i.borderRadius),this.button.endFill()}setupEventListeners(){this.button.on("pointertap",(t=>{this.emit("click",t)}))}}e.StartModal=o},6752:(t,e,i)=>{i(7279);const s=i(3110),o=i(2250),r=i(1557);(async function(){var t;const e=document.querySelector(".ellipsis");null!=e&&(null===(t=e.parentElement)||void 0===t||t.removeChild(e)),await s.SceneManager.initialize();const i=new r.LoaderScene({viewWidth:s.SceneManager.width,viewHeight:s.SceneManager.height});await s.SceneManager.changeScene(i),await i.initializeLoader();const{spritesheet:{textures:n}}=i.getAssets();await s.SceneManager.changeScene(new o.ShootingScene({app:s.SceneManager.app,viewWidth:s.SceneManager.width,viewHeight:s.SceneManager.height,shipTexture:n["spaceship.png"],invaderTexture:n["invader.png"]}))})().catch((t=>{var e;console.error(t);const i=document.querySelector(".error-message");null!=i&&(i.classList.remove("hidden"),i.innerText=Boolean(t)&&Boolean(t.message)?t.message:t);const s=document.querySelector(".error-stack");null!=s&&(s.classList.remove("hidden"),s.innerText=Boolean(t)&&Boolean(t.stack)?t.stack:"");const o=document.querySelector("canvas");null!=o&&(null===(e=o.parentElement)||void 0===e||e.removeChild(o))}))},5473:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.logRectCollision=e.logPlayerBounds=e.logPlayerMove=e.logParticle=e.logGrid=e.logInvader=e.logProjectile=e.logKeyup=e.logKeydown=e.logPointerEvent=e.logLayout=e.logApp=void 0;const o=s(i(1227));e.logApp=(0,o.default)("galaxian-app"),e.logLayout=(0,o.default)("galaxian-layout"),e.logPointerEvent=(0,o.default)("galaxian-pointer-event"),e.logKeydown=(0,o.default)("galaxian-keydown"),e.logKeyup=(0,o.default)("galaxian-keydup"),e.logProjectile=(0,o.default)("galaxian-projectile"),e.logInvader=(0,o.default)("galaxian-invader"),e.logGrid=(0,o.default)("galaxian-grid"),e.logParticle=(0,o.default)("galaxian-particle"),e.logPlayerMove=(0,o.default)("galaxian-player-move"),e.logPlayerBounds=(0,o.default)("galaxian-player-bounds"),e.logRectCollision=(0,o.default)("galaxian-rect-collision")}},i={};function s(t){var o=i[t];if(void 0!==o)return o.exports;var r=i[t]={id:t,loaded:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.loaded=!0,r.exports}s.m=e,t=[],s.O=(e,i,o,r)=>{if(!i){var n=1/0;for(d=0;d<t.length;d++){for(var[i,o,r]=t[d],a=!0,h=0;h<i.length;h++)(!1&r||n>=r)&&Object.keys(s.O).every((t=>s.O[t](i[h])))?i.splice(h--,1):(a=!1,r<n&&(n=r));if(a){t.splice(d--,1);var l=o();void 0!==l&&(e=l)}}return e}r=r||0;for(var d=t.length;d>0&&t[d-1][2]>r;d--)t[d]=t[d-1];t[d]=[i,o,r]},s.d=(t,e)=>{for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),s.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{var t={179:0};s.O.j=e=>0===t[e];var e=(e,i)=>{var o,r,[n,a,h]=i,l=0;if(n.some((e=>0!==t[e]))){for(o in a)s.o(a,o)&&(s.m[o]=a[o]);if(h)var d=h(s)}for(e&&e(i);l<n.length;l++)r=n[l],s.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return s.O(d)},i=self.webpackChunksimple_html5_galaxian_game=self.webpackChunksimple_html5_galaxian_game||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))})();var o=s.O(void 0,[736],(()=>s(6752)));o=s.O(o)})();